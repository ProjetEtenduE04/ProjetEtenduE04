@model EmployesClinique
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager

@{
    var btnText = "Ajouter l'employé";
    ViewData["Title"] = "Créer un profil";
    var clinic = ViewData["clinique"] as List<Clinique>;
}

<div class="container-fluid">
    <div class="row justify-content-around text-center">
        <div class="col col-lg-10 col-xl-9">
            <div>
                <h1 class="h0" style="margin-top:50px">Renseignements Obligatoires</h1>
                <div class="divider-2 mb-3 "></div><!--devider linear gradient cian-->

                <p class="p1">
                    Veuillez compléter ces informations <br />
                    <span class="p3">Les champs marqués d'un astérisque (<span class="champs-obligatoires">*</span>) doivent être renseignés.</span>
                </p>
            </div>

            <!--Form d'inscription employé clinique-->
            <form asp-controller="EmployesCliniques" asp-action="Create" method="post" enctype="multipart/form-data" class="text-start p1">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            
                <!--Prenom Employé Clinique-->
                <div class="row justify-content-center">
                    <div class="col col-md-8 col-lg-7 col-xl-6 ">
                        <label asp-for="@Model.EmployeCliniquePrenom" class="form-label mt-3 mb-1">Prénom<span class="champs-obligatoires"> *</span></label>
                        <input type="text" class="form-control form-control-lg capitalize-first-letter" asp-for="@Model.EmployeCliniquePrenom" placeholder="Exemple: John">
                        <span asp-validation-for="@Model.EmployeCliniquePrenom" class="text-danger"></span>
                    </div>
                </div>

                <!--Nom Employé Clinique-->
                <div class="row justify-content-center">
                    <div class="col col-md-8 col-lg-7 col-xl-6 ">
                        <label asp-for="@Model.EmployeCliniqueNom" class="form-label mt-3 mb-1">Nom<span class="champs-obligatoires"> *</span></label>
                        <input type="text" class="form-control form-control-lg capitalize-first-letter" asp-for="@Model.EmployeCliniqueNom" placeholder="Exemple: Smith">
                        <span asp-validation-for="@Model.EmployeCliniqueNom" class="text-danger"></span>
                    </div>
                </div>

                <!--Courriel Employé Clinique-->
                <div class="row justify-content-center">
                    <div class="col col-md-8 col-lg-7 col-xl-6 ">
                        <label asp-for="@Model.EmployeCliniqueCourriel" class="form-label mt-3 mb-1">Courriel<span class="champs-obligatoires"> *</span></label>
                        <input type="text" class="form-control form-control-lg capitalize-first-letter" asp-for="@Model.EmployeCliniqueCourriel" placeholder="Exemple: courriel@gmail.com">
                        <span asp-validation-for="@Model.EmployeCliniqueCourriel" class="text-danger"></span>
                    </div>
                </div>

                <!--Position Employé Clinique-->
                <div class="row justify-content-center">
                    <div class="col col-md-8 col-lg-7 col-xl-6 ">
                        <label asp-for="@Model.EmployeCliniquePosition" class="form-label mt-3 mb-1">Position<span class="champs-obligatoires"> *</span></label>
                        <select asp-for="@Model.EmployeCliniquePosition" class="form-control form-control-lg capitalize-first-letter">
                            <option value="">-- Sélectionnez une position --</option>
                            <option value="Medecin">Medecin</option>
                            <option value="Receptionniste">Receptionniste</option>
                            <option value="AdminClinique">AdminClinique</option>
                            <option value="Autre">Autre</option>
                        </select>
                        <span asp-validation-for="@Model.EmployeCliniquePosition" class="text-danger"></span>
                    </div>
                </div>

                @if (this.User.IsInRole("SuperAdmin"))
                {
                    <div class="row justify-content-center">
                        <div class="col col-md-8 col-lg-7 col-xl-6 ">
                            <label asp-for="@Model.CliniqueID" class="form-label mt-3 mb-1">Clinique<span class="champs-obligatoires"> *</span></label>
                            <select asp-for="@Model.CliniqueID" class="form-control form-control-lg capitalize-first-letter">
                                <option value="">-- Sélectionnez une clinique --</option>
                                @foreach (var clinique in clinic)
                                {
                                    <option value="@clinique.CliniqueID">@clinique.NomClinique</option>
                                }
                            </select>
                            <span asp-validation-for="@Model.CliniqueID" class="text-danger"></span>
                        </div>
                    </div>
                }   
                
                @if (this.User.IsInRole("AdminClinique"))
                {
                    <input asp-for="@Model.CliniqueID" value="" class="form-control" type="hidden" />
                }

                <!--CreateBTN-->
                <div class="row justify-content-center text-center">
                    <div class="col col-md-8 col-xl-6 mb-2 mt-4">
                        <partial name="_SubmitButtonPartial" model="@btnText" />
                    </div>
                </div>
                <div class="row justify-content-center text-center">
                    <div class="col col-md-8 col-xl-6 my-2">
                        <partial name="_ResetButtonPartial" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
